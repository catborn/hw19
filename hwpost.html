<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Метод POST</title>
</head>

<body>
  <div id="input-container">
    <input type="text" id="post-title" placeholder="Заголовок поста">
    <input type="text" id="post-body" placeholder="Содержание поста">
    <button id="post-button">Добавить пост</button>
  </div>

  <div id="posts-container"></div>
  <script>
    function makePosts() {

      const title = document.getElementById('post-title').value;
      const body = document.getElementById('post-body').value;

      fetch('https://jsonplaceholder.typicode.com/posts', {
        method: 'POST',
        body: JSON.stringify({
          title: title,
          body: body,
          userId: 1
        }),
        headers: {
          "Content-type": "application/json; charset=UTF-8"
        }
      })
        .then(response => response.json())

        .then(post => {
          // Добавление элемента на страницу для поста
          const postElement = document.createElement('div');
          postElement.classList.add('post');
          // Заголовок поста
          const titleElement = document.createElement('h2');
          titleElement.textContent = post.title;
          postElement.appendChild(titleElement);
          // Содержание поста
          const bodyElement = document.createElement('p');
          bodyElement.textContent = post.body;
          postElement.appendChild(bodyElement);
          // Вставка div поста на страницу
          document.getElementById('posts-container').prepend(postElement);
          // Очистка полей ввода после добавления поста
          document.getElementById('post-title').value = '';
          document.getElementById('post-body').value = '';
        })

        .catch((err) => {
          postElement.textContent = 'Произошла ошибка'
        });
    }

    document.getElementById('post-button').addEventListener('click', makePosts);
  </script>
</body>

</html>